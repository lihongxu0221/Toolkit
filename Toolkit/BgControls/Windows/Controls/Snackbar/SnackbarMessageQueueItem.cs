namespace BgControls.Windows.Controls;/// <summary>/// 消息条消息队列项./// </summary>public class SnackbarMessageQueueItem{    /// <summary>    /// Initializes a new instance of the <see cref="SnackbarMessageQueueItem"/> class.    /// </summary>    /// <param name="content">要显示的内容.</param>    /// <param name="duration">消息持续时间.</param>    /// <param name="actionContent">操作按钮内容.</param>    /// <param name="actionHandler">操作回调处理程序.</param>    /// <param name="actionArgument">操作处理程序的参数.</param>    /// <param name="isPromoted">是否提升消息优先级.</param>    /// <param name="alwaysShow">是否始终显示.</param>    public SnackbarMessageQueueItem(        object content,        TimeSpan duration,        object? actionContent = null,        Action<object?>? actionHandler = null,        object? actionArgument = null,        bool isPromoted = false,        bool alwaysShow = false)    {        // 验证显示内容不能为空.        ArgumentNullException.ThrowIfNull(content, nameof(content));        // 显式为各个属性赋值.        this.Content = content;        this.Duration = duration;        this.ActionContent = actionContent;        this.ActionHandler = actionHandler;        this.ActionArgument = actionArgument;        this.IsPromoted = isPromoted;        this.AlwaysShow = alwaysShow;    }    /// <summary>    /// Gets 要显示的内容.    /// </summary>    public object Content { get; }    /// <summary>    /// Gets 消息显示持续时间.    /// </summary>    public TimeSpan Duration { get; }    /// <summary>    /// Gets 消息条上操作按钮的内容.    /// </summary>    public object? ActionContent { get; }    /// <summary>    /// Gets 当操作按钮被点击时触发的处理程序.    /// </summary>    public Action<object?>? ActionHandler { get; }    /// <summary>    /// Gets 传递给 <see cref="ActionHandler" /> 委托的参数.    /// </summary>    public object? ActionArgument { get; }    /// <summary>    /// Gets a value indicating whether 该消息是否被提升（插队到非提升消息之前）.    /// </summary>    public bool IsPromoted { get; }    /// <summary>    /// Gets a value indicating whether 是否始终显示此消息（即使是重复项）.    /// </summary>    public bool AlwaysShow { get; }    /// <summary>    /// 判断指定的项是否为当前项的重复项.    /// </summary>    /// <param name="item">要对比的消息项.</param>    /// <returns>如果是重复项则返回 true；否则返回 false.</returns>    public bool IsDuplicate(SnackbarMessageQueueItem item)    {        // 验证对比项不能为空.        ArgumentNullException.ThrowIfNull(item, nameof(item));        // 如果设置了始终显示，则不视为重复项.        if (this.AlwaysShow)        {            return false;        }        // 调用 Equals 方法进行深度对比.        return this.Equals(item);    }    /// <summary>    /// 确定指定的对象是否等于当前对象.    /// </summary>    /// <param name="obj">要对比的对象.</param>    /// <returns>如果相等则返回 true；否则返回 false.</returns>    public override bool Equals(object? obj)    {        // 尝试将对象转换为消息项类型.        if (obj is SnackbarMessageQueueItem otherItem)        {            // 对比显示内容是否一致.            if (EqualityComparer<object>.Default.Equals(this.Content, otherItem.Content))            {                // 内容一致时，继续对比操作按钮内容是否一致.                return EqualityComparer<object>.Default.Equals(this.ActionContent, otherItem.ActionContent);            }        }        // 类型不匹配或内容不一致返回 false.        return false;    }    /// <summary>    /// 获取当前对象的哈希码.    /// </summary>    /// <returns>对象的哈希码.</returns>    public override int GetHashCode()    {        unchecked        {            // 使用显示内容和操作按钮内容的哈希值进行组合运算.            int hashCode = this.Content.GetHashCode();            hashCode = (hashCode * 397) ^ (this.ActionContent?.GetHashCode() ?? 0);            return hashCode;        }    }}
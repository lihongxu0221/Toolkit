namespace BgControls.Windows.Controls.PropertyGrid.Converters;public class ListConverter : TypeConverter{    /// <inheritdoc/>    public override bool CanConvertFrom(ITypeDescriptorContext? context, Type sourceType)    {        return true;    }    /// <inheritdoc/>    public override bool CanConvertTo(ITypeDescriptorContext? context, Type? destinationType)    {        return destinationType == typeof(string);    }    /// <inheritdoc/>    public override object? ConvertFrom(ITypeDescriptorContext? context, CultureInfo? culture, object value)    {        if (value != null)        {            string? names = value as string;            List<object> list = new List<object>();            if (names != null)            {                foreach (string text2 in names.Split(','))                {                    list.Add(text2.Trim());                }            }            else if (value != null)            {                list.Add(value);            }            return new ReadOnlyCollection<object>(list);        }        return null;    }    /// <inheritdoc/>    public override object? ConvertTo(ITypeDescriptorContext? context, CultureInfo? culture, object? value, Type destinationType)    {        if (destinationType != typeof(string))        {            throw new InvalidOperationException("Can only convert to string.");        }        IList? strs = (IList?)value;        if (strs == null)        {            return null;        }        StringBuilder stringBuilder = new StringBuilder();        bool first = true;        foreach (object o in strs)        {            if (o == null)            {                throw new InvalidOperationException("Property names cannot be null.");            }            string? s = o as string;            if (s == null)            {                throw new InvalidOperationException("Does not support serialization of non-string property names.");            }            if (s.Contains(','))            {                throw new InvalidOperationException("Property names cannot contain commas.");            }            if (s.Trim().Length != s.Length)            {                throw new InvalidOperationException("Property names cannot start or end with whitespace characters.");            }            if (!first)            {                stringBuilder.Append(", ");            }            first = false;            stringBuilder.Append(s);        }        return stringBuilder.ToString();    }}
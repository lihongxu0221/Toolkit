namespace BgControls.Tools.Converter;/// <summary>/// 数学运算操作类型枚举./// </summary>public enum MathOperation{    /// <summary>    /// 加法运算.    /// </summary>    Add,    /// <summary>    /// 减法运算.    /// </summary>    Subtract,    /// <summary>    /// 乘法运算.    /// </summary>    Multiply,    /// <summary>    /// 除法运算.    /// </summary>    Divide,    /// <summary>    /// 幂运算.    /// </summary>    Pow,}/// <summary>/// 多值数学运算转换器，用于在绑定中执行基础数学逻辑./// </summary>public sealed class MathMultipleConverter : IMultiValueConverter{    /// <summary>    /// Initializes a new instance of the <see cref="MathMultipleConverter"/> class.    /// </summary>    public MathMultipleConverter()    {    }    /// <summary>    /// Gets or sets 具体数学运算类型.    /// </summary>    public MathOperation Operation { get; set; }    /// <summary>    /// 将源值转换为绑定目标值.    /// </summary>    /// <param name="values">绑定源提供的对象数组.</param>    /// <param name="targetType">绑定目标属性的类型.</param>    /// <param name="parameter">要使用的转换器参数.</param>    /// <param name="culture">要在转换器中使用的区域性.</param>    /// <returns>计算后的结果值.</returns>    public object? Convert(object[] values, Type targetType, object parameter, CultureInfo culture)    {        // 检查值数组及前两个操作数是否有效，若无效则不执行绑定更新.        if (values == null || values.Length < 2 || values[0] == null || values[1] == null)        {            return Binding.DoNothing;        }        // 尝试将第一个和第二个操作数解析为双精度浮点数.        if (!double.TryParse(values[0]?.ToString(), out var firstOperand) ||            !double.TryParse(values[1]?.ToString(), out var secondOperand))        {            // 解析失败时返回默认值 0.            return 0;        }        // 根据指定的运算类型执行相应的数学计算.        return this.Operation switch        {            MathOperation.Divide => firstOperand / secondOperand,            MathOperation.Multiply => firstOperand * secondOperand,            MathOperation.Subtract => firstOperand - secondOperand,            MathOperation.Pow => Math.Pow(firstOperand, secondOperand),            _ => firstOperand + secondOperand,        };    }    /// <summary>    /// 将绑定目标值转换为源绑定值.    /// </summary>    /// <param name="value">绑定目标产生的值.</param>    /// <param name="targetTypes">要转换到的类型数组.</param>    /// <param name="parameter">要使用的转换器参数.</param>    /// <param name="culture">要在转换器中使用的区域性.</param>    /// <returns>由于未实现，将抛出异常.</returns>    /// <exception cref="NotImplementedException">数学多值转换不支持反向转换.</exception>    public object[] ConvertBack(object value, Type[] targetTypes, object parameter, CultureInfo culture)    {        // 按照原逻辑抛出未实现异常.        throw new NotImplementedException();    }}
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"                    xmlns:bg="clr-namespace:BgControls.Windows.Controls"                    xmlns:attach="clr-namespace:BgControls.Windows.Attach">    <Style  x:Key="{x:Type bg:Ripple}" TargetType="{x:Type bg:Ripple}">        <Setter Property="Background" Value="#00FFFFFF" />        <Setter Property="ClipToBounds" Value="{Binding Path=(attach:RippleAssist.ClipToBounds), RelativeSource={RelativeSource Self}}" />        <Setter Property="Feedback" Value="{Binding Path=(attach:RippleAssist.Feedback), RelativeSource={RelativeSource Self}}" />        <Setter Property="HorizontalAlignment" Value="Stretch" />        <Setter Property="VerticalAlignment" Value="Stretch" />        <Setter Property="IsTabStop" Value="False" />        <Setter Property="RecognizesAccessKey" Value="True" />        <Setter Property="Template">            <Setter.Value>                <ControlTemplate TargetType="{x:Type bg:Ripple}">                    <Grid Background="#00FFFFFF">                        <VisualStateManager.VisualStateGroups>                            <VisualStateGroup x:Name="CommonStates">                                <VisualStateGroup.Transitions>                                    <VisualTransition From="Normal" To="MousePressed">                                        <Storyboard>                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ScaleTransform" Storyboard.TargetProperty="ScaleX">                                                <EasingDoubleKeyFrame KeyTime="0" Value="0" />                                                <EasingDoubleKeyFrame KeyTime="0:0:1.2" Value="1">                                                    <EasingDoubleKeyFrame.EasingFunction>                                                        <SineEase EasingMode="EaseIn" />                                                    </EasingDoubleKeyFrame.EasingFunction>                                                </EasingDoubleKeyFrame>                                            </DoubleAnimationUsingKeyFrames>                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ScaleTransform" Storyboard.TargetProperty="ScaleY">                                                <EasingDoubleKeyFrame KeyTime="0" Value="0" />                                                <EasingDoubleKeyFrame KeyTime="0:0:1.2" Value="1">                                                    <EasingDoubleKeyFrame.EasingFunction>                                                        <SineEase EasingMode="EaseIn" />                                                    </EasingDoubleKeyFrame.EasingFunction>                                                </EasingDoubleKeyFrame>                                            </DoubleAnimationUsingKeyFrames>                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClickEllipse" Storyboard.TargetProperty="Opacity">                                                <EasingDoubleKeyFrame KeyTime="0" Value="0" />                                                <EasingDoubleKeyFrame KeyTime="0:0:0.05" Value=".26" />                                            </DoubleAnimationUsingKeyFrames>                                        </Storyboard>                                    </VisualTransition>                                    <VisualTransition From="MousePressed" To="MouseOut">                                        <Storyboard>                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ScaleTransform" Storyboard.TargetProperty="ScaleX">                                                <EasingDoubleKeyFrame KeyTime="0:0:0.12" Value="0">                                                    <EasingDoubleKeyFrame.EasingFunction>                                                        <SineEase EasingMode="EaseIn" />                                                    </EasingDoubleKeyFrame.EasingFunction>                                                </EasingDoubleKeyFrame>                                            </DoubleAnimationUsingKeyFrames>                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ScaleTransform" Storyboard.TargetProperty="ScaleY">                                                <EasingDoubleKeyFrame KeyTime="0:0:0.12" Value="0">                                                    <EasingDoubleKeyFrame.EasingFunction>                                                        <SineEase EasingMode="EaseIn" />                                                    </EasingDoubleKeyFrame.EasingFunction>                                                </EasingDoubleKeyFrame>                                            </DoubleAnimationUsingKeyFrames>                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClickEllipse" Storyboard.TargetProperty="Opacity">                                                <EasingDoubleKeyFrame KeyTime="0:0:0.12" Value="0" />                                            </DoubleAnimationUsingKeyFrames>                                        </Storyboard>                                    </VisualTransition>                                    <VisualTransition From="MousePressed" To="Normal">                                        <Storyboard>                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ScaleTransform" Storyboard.TargetProperty="ScaleX">                                                <EasingDoubleKeyFrame x:Name="MousePressedToNormalScaleXKeyFrame" KeyTime="0:0:0.30" Value="1" />                                                <EasingDoubleKeyFrame KeyTime="0:0:0.50" Value="1" />                                                <EasingDoubleKeyFrame KeyTime="0:0:0.50" Value="0" />                                            </DoubleAnimationUsingKeyFrames>                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ScaleTransform" Storyboard.TargetProperty="ScaleY">                                                <EasingDoubleKeyFrame x:Name="MousePressedToNormalScaleYKeyFrame" KeyTime="0:0:0.30" Value="1" />                                                <EasingDoubleKeyFrame KeyTime="0:0:0.50" Value="1" />                                                <EasingDoubleKeyFrame KeyTime="0:0:0.50" Value="0" />                                            </DoubleAnimationUsingKeyFrames>                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClickEllipse" Storyboard.TargetProperty="Opacity">                                                <EasingDoubleKeyFrame KeyTime="0:0:0.05" Value=".26" />                                                <EasingDoubleKeyFrame KeyTime="0:0:0.30" Value=".26" />                                                <EasingDoubleKeyFrame KeyTime="0:0:0.50" Value="0">                                                    <EasingDoubleKeyFrame.EasingFunction>                                                        <SineEase EasingMode="EaseOut" />                                                    </EasingDoubleKeyFrame.EasingFunction>                                                </EasingDoubleKeyFrame>                                            </DoubleAnimationUsingKeyFrames>                                        </Storyboard>                                    </VisualTransition>                                </VisualStateGroup.Transitions>                                <VisualState x:Name="Normal">                                    <Storyboard>                                        <DoubleAnimation Storyboard.TargetName="ScaleTransform" Storyboard.TargetProperty="ScaleX" To="0" />                                        <DoubleAnimation Storyboard.TargetName="ScaleTransform" Storyboard.TargetProperty="ScaleY" To="0" />                                        <DoubleAnimation Storyboard.TargetName="ClickEllipse" Storyboard.TargetProperty="Opacity" To="0" />                                    </Storyboard>                                </VisualState>                                <VisualState x:Name="MousePressed">                                    <Storyboard>                                        <DoubleAnimation Storyboard.TargetName="ScaleTransform" Storyboard.TargetProperty="ScaleX" To="1" />                                        <DoubleAnimation Storyboard.TargetName="ScaleTransform" Storyboard.TargetProperty="ScaleY" To="1" />                                        <DoubleAnimation Storyboard.TargetName="ClickEllipse" Storyboard.TargetProperty="Opacity" To="0.26" />                                    </Storyboard>                                </VisualState>                                <VisualState x:Name="MouseOut">                                    <Storyboard>                                        <DoubleAnimation Storyboard.TargetName="ScaleTransform" Storyboard.TargetProperty="ScaleX" To="0" />                                        <DoubleAnimation Storyboard.TargetName="ScaleTransform" Storyboard.TargetProperty="ScaleY" To="0" />                                        <DoubleAnimation Storyboard.TargetName="ClickEllipse" Storyboard.TargetProperty="Opacity" To="0" />                                    </Storyboard>                                </VisualState>                            </VisualStateGroup>                        </VisualStateManager.VisualStateGroups>                        <Canvas HorizontalAlignment="Stretch" VerticalAlignment="Stretch" IsHitTestVisible="False">                            <Ellipse x:Name="ClickEllipse"                                      Fill="{TemplateBinding Feedback}"                                     Opacity="0"                                     RenderTransformOrigin=".5,.5"								     Canvas.Left="{Binding Path=RippleX, RelativeSource={RelativeSource TemplatedParent}}"								     Canvas.Top="{Binding Path=RippleY, RelativeSource={RelativeSource TemplatedParent}}"								     Width="{Binding Path=RippleSize, RelativeSource={RelativeSource TemplatedParent}}"								     Height="{Binding Path=RippleSize, RelativeSource={RelativeSource TemplatedParent}}">                                <UIElement.RenderTransform>                                    <TransformGroup>                                        <ScaleTransform x:Name="ScaleTransform" ScaleX="0" ScaleY="0" />                                        <SkewTransform />                                        <RotateTransform />                                        <TranslateTransform x:Name="TranslateTransform" />                                    </TransformGroup>                                </UIElement.RenderTransform>                            </Ellipse>                            <FrameworkElement.Style>                                <Style TargetType="{x:Type Canvas}">                                    <Setter Property="Panel.ZIndex" Value="0" />                                    <Style.Triggers>                                        <Trigger Property="attach:RippleAssist.RippleOnTop" Value="True">                                            <Setter Property="Panel.ZIndex" Value="2" />                                        </Trigger>                                    </Style.Triggers>                                </Style>                            </FrameworkElement.Style>                        </Canvas>                        <ContentPresenter Margin="{TemplateBinding Padding}"							              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"							              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"							              Panel.ZIndex="1"							              Content="{TemplateBinding Content}"							              ContentStringFormat="{TemplateBinding ContentStringFormat}"							              ContentTemplate="{TemplateBinding ContentTemplate}"							              ContentTemplateSelector="{TemplateBinding ContentTemplateSelector}"							              RecognizesAccessKey="{TemplateBinding RecognizesAccessKey}"							              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />                    </Grid>                </ControlTemplate>            </Setter.Value>        </Setter>    </Style></ResourceDictionary>
using BgCommon.Prism.Wpf.Authority.Core;using BgCommon.Prism.Wpf.Services;using BgLogger;namespace ToolkitDemo.Services;public class InitializationService : InitializationServiceBase{    public InitializationService(IContainerExtension container)        : base(container) { }    protected override Task<bool> OnCustomLoadAsync(int startProgress)    {        return base.OnCustomLoadAsync(startProgress);    }    protected override async Task<bool> OnCustomLoginAsync()    {        // 假设通过配置决定是否启用操作员模式        bool isOperatorMode = true; // Configuration.GetValue<bool>("EnableOperatorMode");        if (isOperatorMode)        {            this.OnReport(10, Ioc.GetString("[用户认证]"), Ioc.GetString("正在以操作员模式启动..."));            // 调用登录接口            var loginResult = await this.AuthService.LoginAsSystemRoleAsync(SystemRole.Operator);            if (loginResult.Success)            {                // 完全自动登录成功                this.LoginService.CurrentUser = loginResult.Result;                return true;            }            // 处理所有失败情况（未找到用户、密码错误、用户取消）            LogRun.Error(Ioc.GetString("操作员模式启动失败: {Message}", loginResult.Message));        }        // 如果不是操作员模式，则返回 false，让基类继续执行标准登录流程        return await base.OnCustomLoginAsync();    }    protected override Task<bool> OnCustomInitializeAsync()    {        return base.OnCustomInitializeAsync();    }}